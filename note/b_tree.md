---
title: 数据结构（四）：B 树
date: 2023/04/04 11:32:00
math: true
categories:
- [Computer Science, Data Structure (CS1951@SJTU)]
---
# B 树
## 基本性质
1. 一个非根非叶子块的大小在 $[\lceil\frac{m}{2}\rceil-1, m-1]$ 之间（即子树个数为 $[\lceil\frac{m}{2}\rceil, m]$）
2. $t-1$ 个数据对应 $t$ 个子节点

## 操作
### 插入
像正常二叉查找树一样，找到叶子节点中适合插入的位置，如果块大小太大了，就把它分裂成两个，以保证性质 1；分裂时，中位数元素提到其父节点两个位置之间，以保证性质 2。

由于 B 树的性质，在插入过程中，只要发现一个中间节点满了，就可以认为其叶节点也满，于是可以进行 split

### 删除
像正常二叉查找树一样，将待删节点移动到叶子（因为性质 2，保证每个非叶子节点都有叶子结点的前驱后继）。对于叶子节点中的删除，如果块太小了，分三种情况：
1. 找兄弟借：若兄弟节点数据量足够，就把父节点中的后继移到这里，兄弟节点中的后继移到父结点中；
2. 合并：若兄弟节点也不够，那就合并，并把父节点中的后继下放

# B+ 树
## 基本性质
1. 非叶子节点只存索引不存数据
2. 同 B 树

## 操作
### 插入
1. 
